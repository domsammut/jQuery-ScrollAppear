/**
 * jQuery ScrollAppear 1.0.4
 * Copyright (c) 2014 Dom Sammut
 * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 *
 * Requires jQuery v 1.7.0 +
 * Documentation at https://www.domsammut.com/projects/jquery-scrollappear
 */

(function(e){"use strict";var t={init:function(n){var r=e.prototype.extend({AddClass:"scrollshow",DelayEffect:0,EffectDuration:"fast",ElementAffect:"div",ElementsToShow:3,NumberOfScrolls:100,PixelOffset:0,Timeout:1e3,TriggerIntent:true,TriggerType:"scroll"},n);t.settings=r;t.settings.t=e(this);t.BindEvent();t.GatherElements();return this},InternalSettings:{counter:0,ShowElements:[],BoolTimeout:false,NumOfEl:0},BindEvent:function(n){n=n||t.settings.TriggerType;e(window).on(n,function(e){e.stopImmediatePropagation();t.CheckScroll()});return this},UnbindEvent:function(n){n=n||t.settings.TriggerType;e(window).off(n);return this},ResetCounter:function(){t.InternalSettings.counter=0;return this},GatherElements:function(){this.el=e(t.settings.ElementAffect);for(this.g=0;this.g<this.el.length;this.g+=1){if(t.CheckClassArray(this.el[this.g])===false){t.InternalSettings.ShowElements.push(this.el[this.g])}}t.InternalSettings.ResetElements=t.InternalSettings.ShowElements.slice();t.InternalSettings.NumOfEl=t.InternalSettings.ShowElements.length;return this},CheckCount:function(){if(t.InternalSettings.ShowElements.length>=1){if(t.InternalSettings.counter<=t.settings.NumberOfScrolls){return true}}return false},CheckScroll:function(){if(t.InternalSettings.BoolTimeout===false){if(t.CheckCount()===true){if(t.GetElementPosition()===true){t.InternalSettings.BoolTimeout=true;t.ShowElements();setTimeout(function(){t.InternalSettings.BoolTimeout=false;if(t.settings.TriggerIntent===true){t.CheckScroll()}},t.settings.Timeout)}}}},ShowElements:function(){if(t.CheckCount()===true){var n=0;while(n<t.settings.ElementsToShow){e(t.InternalSettings.ShowElements[n]).hide();e(t.InternalSettings.ShowElements[n]).addClass(t.settings.AddClass);e(t.InternalSettings.ShowElements[n]).delay(n*t.settings.DelayEffect).fadeIn(t.settings.EffectDuration);n+=1}t.InternalSettings.ShowElements.splice(0,t.settings.ElementsToShow);t.InternalSettings.counter+=1}return this},HideElements:function(n){n=n||t.settings.ElementsToShow;if(t.InternalSettings.counter!==0){if(n==="all"){for(this.a=0;this.a<t.InternalSettings.ResetElements.length;this.a+=1){e(t.InternalSettings.ResetElements[this.a]).removeClass(t.settings.AddClass)}t.InternalSettings.counter=0;t.InternalSettings.NumOfEl=0;t.InternalSettings.ShowElements=[];t.InternalSettings.ResetElements=[];t.GatherElements()}else{try{if(typeof n==="number"){var r=1,i=t.InternalSettings.ResetElements.length-t.InternalSettings.ShowElements.length;while(n>=r&&t.InternalSettings.ShowElements.length<=t.InternalSettings.NumOfEl){e(t.InternalSettings.ResetElements[i-r]).removeClass(t.settings.AddClass);t.InternalSettings.ShowElements.splice(0,0,t.InternalSettings.ResetElements[i-r]);r+=1}}else{e.error("Parameter passed in must be numerical or a string that matches 'all'.")}}catch(s){e.error("Parameter passed in must be numerical or a string that matches 'all'.")}}}return this},Destroy:function(){t.UnbindEvent();t.ResetCounter();t.settings=[];t.InternalSettings={counter:0,ShowElements:[],BoolTimeout:false,NumOfEl:0};return this},GetElementPosition:function(){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,r=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;this.top=t.settings.t.offset().top-t.settings.PixelOffset;this.left=t.settings.t.offset().left;this.width=t.settings.t.width();this.height=t.settings.t.height();return this.top>=r&&this.left>=n&&this.top+this.height<=r+e&&this.left+this.width<=n+i},DomUpdate:function(){t.InternalSettings.ShowElements=[];t.InternalSettings.ResetElements=[];t.GatherElements()},CheckClassArray:function(n){t.CheckClassArray.el=e(n);if(t.settings.AddClass.indexOf(" ")>0){var r=t.settings.AddClass.split(" ");for(this.c=0;this.c<r.length;this.c+=1){if(t.CheckClassArray.el.hasClass(r[this.c])){return true}}}else{if(t.CheckClassArray.el.hasClass(t.settings.AddClass)){return true}}return false}};e.prototype.ScrollAppear=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}if(typeof n==="object"||!n){return t.init.apply(this,arguments)}e.error("Action "+n+" does not exist, ensure you have spelt it correctly along with correct letter case.")};e.each(["after","append","appendTo","before","clone","html","insertAfter","insertBefore","prepend","prependTo","remove","replaceAll","replaceWith","unwrap","wrap","wrapAll","wrapInner"],function(t,n){var r=e.prototype[n];if(r){e.prototype[n]=function(){var t=r.apply(this,arguments);e.prototype.ScrollAppear("DomUpdate");return t}}})})(jQuery)